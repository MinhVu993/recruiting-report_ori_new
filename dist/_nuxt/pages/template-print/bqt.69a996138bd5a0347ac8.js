(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{729:function(t,e,n){var content=n(847);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("0d063ce1",content,!0,{sourceMap:!1})},846:function(t,e,n){"use strict";n(729)},847:function(t,e,n){var r=n(25)((function(i){return i[1]}));r.push([t.i,'body{font-family:"Times New Roman",Times,serif!important}.chinese{font-family:Kaiti,"宋体",serif!important}.colum3,.signature-cell,.table th b,.text-header,.text-header_title{font-family:"Times New Roman",SimSun,"宋体",Times,serif!important}.print-layout th{font-family:"Times New Roman",Times,serif!important}.v-application{line-height:1.2}.text-header_title{font-family:"Times New Roman",Times,serif!important;font-size:18px!important;font-weight:700;padding:15px!important;width:31%}.text-header{font-size:16px!important;line-height:1.4}.colum3,.text-header{padding:8px!important}.colum3{font-size:15px!important;width:12%}.table{background-color:transparent;border-collapse:collapse!important;margin-bottom:1rem;max-width:100%;width:100%}.table td,.table th{background-color:transparent!important;padding:5px;text-align:center;vertical-align:middle}.table thead th{border-bottom:2px solid #333;vertical-align:bottom}.table tbody+tbody{border-top:2px solid #333}.table-bordered td,.table-bordered th{border:1px solid #333}.table-bordered2 td,.table-bordered2 th{border:1px solid #333;border-top:none}.table th b{font-size:15px;text-transform:uppercase}.align-middle{vertical-align:middle!important}tr.textMid td{font-size:12px!important}img.img-fluid{display:block;margin:0 auto;max-width:100px;padding:3px}.signature-cell{padding:10px 50px;text-align:center!important;vertical-align:middle!important}.signature-title{display:inline-block;font-size:14px;font-weight:700;line-height:1.5}.no-bottom-border{border-bottom:1px solid #333!important}.no-top-border{border-top:none!important}.table{margin-bottom:0!important}.no-bottom-border tr:last-child td{border-bottom:1px solid #333!important}.no-top-border tr:first-child td,.no-top-border tr:first-child th{border-top:none!important}.signature-table{border-collapse:collapse;margin-top:20px;width:100%}.signature-space{border:none!important;height:150px}.signature-note{padding:10px;text-align:left;white-space:nowrap}.table td,.table th,.table-bordered{border:1px solid #333}.table thead th{border-bottom:1px solid #333}.table tbody+tbody{border-top:1px solid #333}.processing{opacity:.7;pointer-events:none}.mb-3{margin-bottom:1rem!important}@media print{.no-print{display:none!important}}',""]),r.locals={},t.exports=r},894:function(t,e,n){"use strict";n.r(e);var r=n(255),o=n(198),d=(n(27),n(15)),l=(n(71),n(56),n(11),n(5),n(40),n(41),n(85),n(697),n(698),n(253),n(604)),c=n.n(l),m=n(842),v=n.n(m),_={layout:"print",data:function(){return{api:"http://gmo021.cansportsvg.com/api/vg-recuitingReport/",printData:[],today:c()().format("YYYY-MM-DD"),imageLoaded:!1,isProcessing:!1,pdfBlob:null}},computed:{formattedData:function(){return this.printData.map((function(t){var e=t.name?JSON.parse(t.name):{},n=t.duty_name?JSON.parse(t.duty_name):{};return{empno:t.newEmpno,name:t.candidate_name,dept_name:e.vi||"",duty:n.vi||"",note:""}}))}},watch:{formattedData:{handler:function(t){var e=this;t&&t.length>0&&this.$nextTick((function(){e.tryPrint()}))},immediate:!1}},mounted:function(){var t=this,img=new Image;img.src="./logo.png",img.onload=function(){t.imageLoaded=!0,t.getDateCandidate()}},methods:{getDateCandidate:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post(t.api+"printUnswiped",{act_en_date:t.$route.query.data});case 3:n=e.sent,t.printData=n.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},tryPrint:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var element,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.imageLoaded&&0!==t.printData.length){e.next=2;break}return e.abrupt("return");case 2:return t.isProcessing=!0,e.prev=3,element=t.$refs.printContent,n={margin:[10,10,10,10],filename:"BQT-".concat(c()().format("YYYYMMDD"),".pdf"),image:{type:"jpeg",quality:1},html2canvas:{scale:2,useCORS:!0,letterRendering:!0,logging:!1,backgroundColor:"#FFFFFF"},jsPDF:{unit:"mm",format:"a4",orientation:"portrait",compress:!0}},e.next=8,v()().from(element).set(n).outputPdf("blob");case 8:r=e.sent,t.pdfBlob=r,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Error in PDF generation/printing:",e.t0),alert("Có lỗi xảy ra khi tạo PDF. Vui lòng thử lại.");case 16:return e.prev=16,t.isProcessing=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})))()},downloadPDF:function(){if(this.pdfBlob)try{var t=URL.createObjectURL(this.pdfBlob),link=document.createElement("a");link.href=t,link.download="BQT-".concat(c()().format("YYYYMMDD"),".pdf"),document.body.appendChild(link),link.click(),document.body.removeChild(link),setTimeout((function(){URL.revokeObjectURL(t)}),1e3)}catch(t){console.error("Error downloading PDF:",t),alert("Có lỗi xảy ra khi tải PDF. Vui lòng thử lại.")}},printDocument:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pdfBlob){e.next=2;break}return e.abrupt("return");case 2:try{n=URL.createObjectURL(t.pdfBlob),(r=window.open(n,"_blank"))&&(r.onload=function(){r.print(),setTimeout((function(){URL.revokeObjectURL(n)}),1e3)})}catch(t){console.error("Error in printing:",t)}case 3:case"end":return e.stop()}}),e)})))()}}},f=(n(846),n(44)),component=Object(f.a)(_,(function(){var t=this,e=t._self._c;return e("div",[e(r.a,{staticClass:"mb-3 no-print",attrs:{color:"primary",loading:t.isProcessing,disabled:!t.pdfBlob},on:{click:t.downloadPDF}},[e(o.a,{attrs:{left:""}},[t._v("mdi-download")]),t._v("\n        Tải xuống PDF\n    ")],1),t._v(" "),e("div",{ref:"printContent"},[e("table",{staticClass:"table table-bordered no-bottom-border",staticStyle:{"margin-bottom":"0"}},[e("tr",[e("td",{staticClass:"align-middle text-header",staticStyle:{width:"12%"},attrs:{rowspan:"2"}},[e("img",{ref:"logoImage",staticClass:"img-fluid mx-auto mt-1",attrs:{width:"75px;",src:"./logo.png",alt:""}})]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),e("td",[t._v("15.04.2024")])]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"},attrs:{colspan:"4"}},[t._v("Ngày điền biểu/填表日期: "+t._s(t.today))])])]),t._v(" "),e("table",{staticClass:"table table-bordered no-top-border"},[t._m(4),t._v(" "),t._l(t.formattedData,(function(n,r){return e("tr",{key:r},[e("td",[t._v(t._s(r+1))]),t._v(" "),e("td",[t._v(t._s(n.empno))]),t._v(" "),e("td",[t._v(t._s(n.name))]),t._v(" "),e("td",[t._v(t._s(n.dept_name))]),t._v(" "),e("td",[t._v(t._s(n.duty))]),t._v(" "),e("td",[t._v(t._s(n.note))])])}))],2),t._v(" "),t._m(5)])],1)}),[function(){var t=this,e=t._self._c;return e("td",{staticClass:"text-center align-middle text-header_title",attrs:{rowspan:"3"}},[t._v("\n                    DANH SÁCH BÙ QUẸT THẺ CÔNG NHÂN MỚI\n                    "),e("br"),t._v("\n                    新進員工補刷卡名單\n                ")])},function(){var t=this,e=t._self._c;return e("td",[t._v("\n                    Ngày thiết lập (sửa đổi) "),e("br"),t._v("\n                    (修)訂日期\n                ")])},function(){var t=this,e=t._self._c;return e("tr",[e("td",[t._v("\n                    Mã số tài liệu "),e("br"),t._v("\n                    文件編號\n                ")]),t._v(" "),e("td",[t._v("\n                    HR02-SP001-11"),e("br")])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"colum3 align-middle"},[t._v("\n                    Bộ phận soạn thảo "),e("br"),t._v("\n                    編訂部門 "),e("br"),t._v("\n                    Tài Nguyên Nhân Lực "),e("br"),t._v("\n                    人力資源部 "),e("br")]),t._v(" "),e("td",{staticClass:"colum3 align-middle"},[t._v("\n                    Phiên bản 版本"),e("br"),t._v("\n                    2\n                ")]),t._v(" "),e("td",{staticClass:"colum3 align-middle"},[t._v("\n                    Trang 頁次 "),e("br"),t._v("\n                    1\n                ")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v(" STT "),e("br"),t._v(" 序號 ")]),t._v(" "),e("th",[t._v(" Số thẻ "),e("br"),t._v(" 工號 ")]),t._v(" "),e("th",[t._v(" Họ và tên "),e("br"),t._v(" 姓名 ")]),t._v(" "),e("th",[t._v(" BỘ PHẬN "),e("br"),t._v(" 部門 ")]),t._v(" "),e("th",[t._v(" CHỨC VỤ "),e("br"),t._v(" 職務 ")]),t._v(" "),e("th",[t._v(" GHI CHÚ "),e("br"),t._v(" 備註 ")])])},function(){var t=this,e=t._self._c;return e("table",{staticClass:"signature-table"},[e("tr",[e("td",{staticClass:"signature-cell"},[t._v("\n                    Chủ quản BP Tài Nguyên Nhân Lực "),e("br"),t._v("人力資源部\n                ")]),t._v(" "),e("td",{staticClass:"signature-cell"},[t._v("\n                    Người lập biểu "),e("br"),t._v("填表人\n                ")])]),t._v(" "),e("tr",[e("td",{staticClass:"signature-space"}),t._v(" "),e("td",{staticClass:"signature-space"})]),t._v(" "),e("tr",[e("td",{staticClass:"signature-note",attrs:{colspan:"2"}},[t._v("\n                    Chú ý: Người lập biểu ➜ Chủ quản BP Tài Nguyên Nhân Lực "),e("br"),t._v("\n                    表單流程：填表人 ➜ 人力資源部\n                ")])])])}],!1,null,null,null);e.default=component.exports}}]);