(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{694:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"Dept listing":"Department Listing","Search":"Search","Department Details":"Department Details","Department":"Department","Dept unit":"Department Unit","Division":"Division","Start date":"Start Date","End date":"End Date","Dept name":"Department Name","Vietnamese name":"Vietnamese Name","English name":"English Name","Chinese name":"Chinese Name","CLEAR":"Clear","SAVE":"Save","Actions":"Actions","Name":"Dept Name","Unit":"Unit","Required":"This field is required","Created date":"Created date","Group code":"Group code","Group name":"Group name","Fac. definition":"Fac. definition"},"vi":{"Dept listing":"Danh sách phòng ban","Search":"Tìm kiếm","Department Details":"Chi tiết phòng ban","Department":"Bộ phận","Dept unit":"Đơn vị","Division":"Cấp sở","Start date":"Ngày bắt đầu","End date":"Ngày kết thúc","Dept name":"Tên bộ phận","Vietnamese name":"Tên tiếng Việt","English name":"Tên tiếng Anh","Chinese name":"Tên tiếng Trung","CLEAR":"Xóa","SAVE":"Lưu","Actions":"Thao tác","Name":"Tên BP","Unit":"Đơn vị","Required":"Trường này là bắt buộc","Created date":"Ngày tạo","Group code":"Mã nhóm","Group name":"Tên nhóm","Fac. definition":"Định nghĩa nhà máy"},"cn":{"Dept listing":"部门列表","Search":"搜索","Department Details":"部门详情","Department":"部","Dept unit":"部门单位","Division":"處","Start date":"开始日期","End date":"结束日期","Dept name":"部门名称","Vietnamese name":"越南语名称","English name":"英文名称","Chinese name":"中文名称","CLEAR":"清除","SAVE":"保存","Actions":"操作","Name":"部门名称","Unit":"单位","Required":"此字段为必填项","Created date":"创建日期","Group code":"组代码","Group name":"群組","Fac. definition":"廠內定義"}}'),delete e.options._Ctor}},718:function(e,t,n){var content=n(811);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(27).default)("19b9b549",content,!0,{sourceMap:!1})},810:function(e,t,n){"use strict";n(718)},811:function(e,t,n){var r=n(26)(function(i){return i[1]});r.push([e.i,".main-card[data-v-5a44215c]{background:linear-gradient(180deg,#fff,#f8f9fa);border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,.05)!important}.app-bar-custom[data-v-5a44215c]{background:linear-gradient(135deg,#00796b,#004d40);border-radius:16px 16px 0 0}.search-field[data-v-5a44215c]{border-radius:20px;transition:all .3s ease}.search-field[data-v-5a44215c],.search-field[data-v-5a44215c]:hover{background:hsla(0,0%,100%,.15)}.action-button[data-v-5a44215c]{border-radius:8px;transition:all .2s ease}.v-data-table[data-v-5a44215c]{border:1px solid #e0e0e0}.v-data-table[data-v-5a44215c] .v-data-table__wrapper{overflow-y:auto}.v-data-table[data-v-5a44215c] thead th{background:#fff;color:#004d40!important;font-weight:600!important;position:sticky;text-transform:uppercase;top:0;z-index:1}.v-data-table[data-v-5a44215c] tbody tr:hover{background-color:#f3fd99!important}.action-icon[data-v-5a44215c]{cursor:pointer;transition:all .2s ease}.dialog-card[data-v-5a44215c]{border-radius:12px;overflow:hidden}[data-v-5a44215c] .v-text-field.v-text-field--enclosed .v-text-field__details{margin-bottom:8px}[data-v-5a44215c] .v-input__slot{min-height:40px}.form-card[data-v-5a44215c],.table-card[data-v-5a44215c]{background:#fff;border:1px solid rgba(0,0,0,.05);border-radius:12px;overflow:hidden;transition:all .3s ease}.pulse-icon[data-v-5a44215c]{animation:pulse-5a44215c 2s infinite}@keyframes pulse-5a44215c{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes shake-5a44215c{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-4px,0,0)}40%,60%{transform:translate3d(4px,0,0)}}",""]),r.locals={},e.exports=r},812:function(e,t,n){"use strict";var r=n(694),o=n.n(r);t.default=o.a},883:function(e,t,n){"use strict";n.r(t);var r=n(603),o=n(256),c=n(707),d=n(605),l=n(743),m=n(879),f=n(878),v=n(589),h=n(717),_=n(197),D=n(712),x=n(742),k=n(876),y=n(602),C=n(611),$=n(245),E=(n(10),n(52),n(28),n(24),n(156),n(14)),S=(n(71),n(13),n(50),n(39),n(11),n(5),n(244),n(70),n(15),{data:function(){return{api:"http://gmo021.cansportsvg.com/api/vg-recuitingReport/",today:(new Date).toISOString().slice(0,10),headers:[{text:"Division",value:"department",sortable:!0,align:"center"},{text:"Department",value:"sub_department",sortable:!0,align:"center"},{text:"Unit",value:"sub_division",sortable:!0,align:"center"},{text:"Name",value:"name",sortable:!0,align:"center"},{text:"Start date",value:"start_date",sortable:!0,align:"center"},{text:"End date",value:"end_date",sortable:!0,align:"center"},{text:"Created date",value:"created_at",sortable:!0,align:"center"},{text:"Actions",value:"actions",sortable:!1,align:"center"}],deptData:[],dialogNewDept:!1,loading:!1,saving:!1,dept:"",subDept:"",description:"",search:"",id:"",nameVi:"",nameEn:"",nameCn:"",Sdate:!1,Edate:!1,startDate:"",endDate:"",fid:"",group_name:"",group_code:""}},computed:{currentLocale:function(){return this.$i18n.locale},filteredDeptData:function(){var e=this;return this.search?this.deptData.filter(function(t){var n=e.search.toLowerCase();return Object.values(t).some(function(e){return String(e).toLowerCase().includes(n)})}):this.deptData}},methods:{triggerFileInput:function(){var e=this.$refs.fileInput.$el.querySelector("input");e&&(e.click(),e.addEventListener("change",this.handleFileImport))},handleFileImport:function(e){var t=this;return Object(E.a)(regeneratorRuntime.mark(function n(){var r,o,c,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.target.files[0]){n.next=1;break}return n.abrupt("return");case 1:return(o=new FormData).append("file",r),n.prev=2,n.next=3,t.$axios.post(t.api+"importDeptCode",o,{headers:{"Content-Type":"multipart/form-data"}});case 3:if(!(c=n.sent).data.success){n.next=5;break}return t.$notify({title:"Success",text:"Data imported successfully",type:"success"}),n.next=4,t.getAllDept();case 4:n.next=6;break;case 5:t.$notify({title:"Error",text:c.data.message,type:"error"});case 6:n.next=8;break;case 7:n.prev=7,d=n.catch(2),console.error("Import error:",d),t.$notify({title:"Error",text:"Error importing file",type:"error"});case 8:e.target.value="";case 9:case"end":return n.stop()}},n,null,[[2,7]])}))()},getLocalizedName:function(e){if(!e)return"";try{var t="string"==typeof e?JSON.parse(e):e;return t[this.currentLocale]||t.vi||t.en||t.cn||""}catch(e){return console.error("Error parsing name:",e),""}},formatDate:function(e){return e?e.split(" ")[0]:""},getAllDept:function(){var e=this;return Object(E.a)(regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=1,e.$axios.get(e.api+"getDataDeptCode");case 1:n=t.sent,r=n.data.dataDeptCode,e.deptData=r,t.next=3;break;case 2:t.prev=2,o=t.catch(0),console.error("Error fetching data:",o);case 3:case"end":return t.stop()}},t,null,[[0,2]])}))()},editDept:function(data){this.id=data.id,this.dept=data.department,this.subDept=data.sub_department,this.description=data.sub_division,this.startDate=data.start_date,this.endDate=data.end_date,this.group_code=data.group_code,this.group_name=data.group_name,data.name&&(this.nameVi=data.name,this.nameEn=data.name.en||"",this.nameCn=data.name.cn||""),this.fid=data.fid},saveDept:function(){var e=this;return Object(E.a)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={id:e.id,department:e.dept,sub_department:e.subDept,sub_division:e.description,start_date:e.startDate,end_date:e.endDate,group_code:e.group_code,group_name:e.group_name,name:e.nameVi,fid:e.fid},t.prev=1,e.saving=!0,t.next=2,e.$axios.post(e.api+"saveDeptCode",n).then(function(t){200===t.status&&(e.$notify({title:"Success",text:"Data saved successfully",type:"success"}),e.getAllDept(),e.clearForm())});case 2:t.sent,t.next=4;break;case 3:t.prev=3,r=t.catch(1),console.log(r);case 4:return t.prev=4,e.saving=!1,t.finish(4);case 5:case"end":return t.stop()}},t,null,[[1,3,4,5]])}))()},clearForm:function(){this.dept="",this.group="",this.subDept="",this.description="",this.nameVi="",this.nameEn="",this.nameCn="",this.startDate="",this.endDate="",this.fid="",this.id=""},exporFullData:function(){var e=this,t=[];return this.deptData.forEach(function(n){t.push({Division:n.department,Department:n.sub_department,Unit:n.sub_division,Name:n.name,"Start date":n.start_date,"End date":n.end_date,"Created date":e.formatDate(n.created_at)})}),t}},mounted:function(){var e=this;return Object(E.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=1,e.getAllDept();case 1:case"end":return t.stop()}},t)}))()}}),w=(n(810),n(44)),A=n(812),component=Object(w.a)(S,function(){var e=this,t=e._self._c;return t(x.a,[t(l.a,{attrs:{cols:"12"}},[t(c.a,{staticClass:"main-card",attrs:{elevation:"3",width:"100%"}},[t(r.a,{staticClass:"app-bar-custom",attrs:{color:"primary darken-1",dense:"",dark:""}},[t($.b,{staticClass:"d-flex align-center"},[t(_.a,{staticClass:"mr-2 pulse-icon"},[e._v("mdi-listing")]),e._v(" "),t("span",{staticClass:"font-weight-medium"},[e._v(e._s(e.$t("Dept listing")))])],1),e._v(" "),t(y.a),e._v(" "),t(l.a,{attrs:{cols:"2"}},[t(C.a,{staticClass:"search-field",attrs:{"append-icon":"mdi-magnify",label:e.$t("Search"),outlined:"",dense:"","hide-details":"",clearable:"",color:"teal",dark:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),t(o.a,{attrs:{color:"warning",dark:""},on:{click:e.triggerFileInput}},[t(_.a,{attrs:{left:""}},[e._v("mdi-file-upload")]),e._v("\n                    "+e._s(e.$t("Import"))+"\n                ")],1),e._v(" "),t(h.a,{ref:"fileInput",staticStyle:{display:"none"},attrs:{label:"File input",outlined:"",dense:"",accept:".xlsx,.xls,.csv"}})],1),e._v(" "),t(d.b,{staticClass:"pa-6"},[t(x.a,[t(l.a,{attrs:{cols:"12",md:"4"}},[t(c.a,{staticClass:"form-card",attrs:{elevation:"2"}},[t(d.c,{staticClass:"headline primary--text py-3 px-4"},[t(_.a,{attrs:{left:"",color:"primary"}},[e._v("mdi-office-building")]),e._v("\n                                "+e._s(e.$t("Department Details"))+"\n                            ")],1),e._v(" "),t(v.a),e._v(" "),t(d.b,{staticClass:"pt-4"},[t(x.a,[t(l.a,{attrs:{cols:"12",md:"4"}},[t(C.a,{attrs:{label:e.$t("Department"),outlined:"",dense:"",rules:[function(t){return!!t||e.$t("Required")}],"hide-details":"auto",clearable:""},model:{value:e.dept,callback:function(t){e.dept=t},expression:"dept"}})],1),e._v(" "),t(l.a,{attrs:{cols:"12",md:"4"}},[t(C.a,{attrs:{label:e.$t("Dept unit"),outlined:"",dense:"","hide-details":"",clearable:""},model:{value:e.subDept,callback:function(t){e.subDept=t},expression:"subDept"}})],1),e._v(" "),t(l.a,{attrs:{cols:"12",md:"4"}},[t(C.a,{attrs:{label:e.$t("Division"),outlined:"",dense:"","hide-details":"",clearable:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),t(l.a,{attrs:{cols:"12",md:"4"}},[t(D.a,{attrs:{"close-on-content-click":!0,transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[t(C.a,e._g(e._b({attrs:{label:e.$t("Start date"),readonly:"",outlined:"",dense:"","hide-details":"","prepend-inner-icon":"mdi-calendar"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}},"v-text-field",o,!1),r))]}}]),model:{value:e.Sdate,callback:function(t){e.Sdate=t},expression:"Sdate"}},[e._v(" "),t(f.a,{attrs:{"header-color":"teal",locale:"cn"==e.$i18n.locale?"zh":e.$i18n.locale},on:{input:function(t){e.Sdate=!1}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1)],1),e._v(" "),t(l.a,{attrs:{cols:"12",md:"4"}},[t(D.a,{attrs:{"close-on-content-click":!0,transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[t(C.a,e._g(e._b({attrs:{label:e.$t("End date"),readonly:"",outlined:"",dense:"","hide-details":"","prepend-inner-icon":"mdi-calendar"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}},"v-text-field",o,!1),r))]}}]),model:{value:e.Edate,callback:function(t){e.Edate=t},expression:"Edate"}},[e._v(" "),t(f.a,{attrs:{"header-color":"teal",locale:"cn"==e.$i18n.locale?"zh":e.$i18n.locale},on:{input:function(t){e.Edate=!1}},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1)],1),e._v(" "),t(l.a,{attrs:{cols:"12"}},[t(d.c,{staticClass:"headline primary--text py-3 px-1"},[t(_.a,{attrs:{left:"",color:"primary"}},[e._v("mdi-office-building")]),e._v("\n                                            "+e._s(e.$t("Dept name"))+"\n                                        ")],1),e._v(" "),t(x.a,[t(l.a,{attrs:{cols:"12",sm:"12"}},[t(C.a,{attrs:{label:e.$t("Vietnamese name"),outlined:"",dense:"","prepend-inner-icon":"mdi-translate","hide-details":"",clearable:""},model:{value:e.nameVi,callback:function(t){e.nameVi=t},expression:"nameVi"}})],1)],1)],1)],1)],1),e._v(" "),t(v.a,{staticClass:"mx-4"}),e._v(" "),t(d.a,{staticClass:"py-3 px-4"},[t(o.a,{attrs:{color:"error",elevation:"2"},on:{click:e.clearForm}},[t(_.a,{attrs:{left:""}},[e._v("mdi-close")]),e._v("\n                                    "+e._s(e.$t("CLEAR"))+"\n                                ")],1),e._v(" "),t(y.a),e._v(" "),t(o.a,{attrs:{color:"primary",loading:e.saving,elevation:"2"},on:{click:e.saveDept}},[t(_.a,{attrs:{left:""}},[e._v("mdi-content-save")]),e._v("\n                                    "+e._s(e.$t("SAVE"))+"\n                                ")],1)],1)],1)],1),e._v(" "),t(l.a,{attrs:{cols:"12",md:"8"}},[t(c.a,{staticClass:"table-card",attrs:{elevation:"2"}},[t(m.a,{staticClass:"elevation-0 custom-table",attrs:{headers:e.headers,items:e.filteredDeptData,"items-per-page":10,loading:e.loading,"loading-text":"Loading departments...","fixed-header":""},scopedSlots:e._u([{key:"loading",fn:function(){return e._l(3,function(e){return t(k.a,{key:e,attrs:{type:"list-item-two-line"}})})},proxy:!0},{key:"item.actions",fn:function(n){var r=n.item;return[t(_.a,{staticClass:"action-icon",attrs:{color:"error"},on:{click:function(t){return e.editDept(r)}}},[e._v("\n                                        mdi-square-edit-outline\n                                    ")])]}},{key:"header.department",fn:function(t){t.header;return[e._v("\n                                    "+e._s(e.$t("Division"))+"\n                                ")]}},{key:"header.name",fn:function(t){t.header;return[e._v("\n                                    "+e._s(e.$t("Name"))+"\n                                ")]}},{key:"header.sub_department",fn:function(t){t.header;return[e._v("\n                                    "+e._s(e.$t("Department"))+"\n                                ")]}},{key:"header.sub_division",fn:function(t){t.header;return[e._v("\n                                    "+e._s(e.$t("Unit"))+"\n                                ")]}},{key:"header.start_date",fn:function(t){t.header;return[e._v("\n                                    "+e._s(e.$t("Start date"))+"\n                                ")]}},{key:"header.end_date",fn:function(t){t.header;return[e._v("\n                                    "+e._s(e.$t("End date"))+"\n                                ")]}},{key:"header.fid",fn:function(t){t.header;return[e._v("\n                                    "+e._s(e.$t("Fac. definition"))+"\n                                ")]}},{key:"header.group_code",fn:function(t){t.header;return[e._v("\n                                    "+e._s(e.$t("Group code"))+"\n                                ")]}},{key:"header.group_name",fn:function(t){t.header;return[e._v("\n                                    "+e._s(e.$t("Group name"))+"\n                                ")]}},{key:"header.created_at",fn:function(t){t.header;return[e._v("\n                                    "+e._s(e.$t("Created date"))+"\n                                ")]}},{key:"header.actions",fn:function(t){t.header;return[e._v("\n                                    "+e._s(e.$t("Actions"))+"\n                                ")]}},{key:"item.name",fn:function(t){var n=t.item;return[e._v("\n                                      "+e._s(n.name)+"\n                                ")]}},{key:"item.created_at",fn:function(t){var n=t.item;return[e._v("\n                                    "+e._s(e.formatDate(n.created_at))+"\n                                ")]}},{key:"footer.prepend",fn:function(){return[t(o.a,{staticClass:"ml-3",attrs:{color:"success",dark:"",small:""}},[t("export-excel",{attrs:{worksheet:"Dept control",data:e.exporFullData(),name:"Dept_control_".concat(e.today)}},[t(_.a,{attrs:{left:""}},[e._v("mdi-file-excel")]),e._v("\n                                            "+e._s(e.$t("Export data"))+"\n                                        ")],1)],1)]},proxy:!0}],null,!0)})],1)],1)],1)],1)],1)],1)],1)},[],!1,null,"5a44215c",null);"function"==typeof A.default&&Object(A.default)(component);t.default=component.exports}}]);